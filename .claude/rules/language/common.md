---
---

## 設計原則

- DRY・小さな関数・副作用の最小化、イミュータブル志向。

## コードスタイル規約

- 三項演算子は使わない。必要に応じて `if` と IIFE に置き換える。

  ```js
  // NG
  const a = b ? c : d;

  // OK
  const a = (() => {
    if (b) {
      return c;
    } else {
      return d;
    }
  })();
  ```

- 既存の Linter/Formatter 設定に従い、Lint エラーや警告が発生した場合、設定側(ESLint/Prettier/TS 設定や ignore の追加、ルール緩和、ルール無効化、`// eslint-disable` 系コメント、`@ts-ignore` など)を変更して解決することを禁止する。
- 必ず実装コード側の修正(設計・命名・制御フロー・型付け・責務分割の見直し等)によって解消すること。
- コメントやドキュメントでは半角記号がある場合は半角記号を使用する。

## エラーハンドリング規約

- try/catch は最小限のスコープで囲み、エラーを握りつぶさない。
- カスタムエラークラスを定義し、エラーの種類を明確にする。
- async 関数では必ずエラーハンドリングを行う。

## 命名規約

- 変数・関数: camelCase
- クラス・型・インターフェース: PascalCase
- 定数: UPPER_SNAKE_CASE
- ファイル名: kebab-case（コンポーネントは PascalCase も可）
- Boolean 変数: is/has/can/should プレフィックス
- イベントハンドラ: handle プレフィックス（例: handleClick）

## コメント規約

- 「なぜ」を説明するコメントを書き、「何を」は避ける（コード自体が説明すべき）。
- TODO/FIXME には担当者と期限を記載する（例: `// TODO(@user): 2024-12 までに対応`）。
- マジックナンバーには必ずコメントか定数化で意図を明示する。

## セキュリティ規約

- ユーザー入力は必ずバリデーション・サニタイズを行う。
- シークレット情報はコードにハードコードしない。
- eval() や new Function() の使用を禁止する。

## パフォーマンス規約

- 不要な再レンダリングを防ぐための最適化を行う。
- 大きなリストには仮想化を検討する。
- 重い計算はメモ化または Web Worker へ移譲する。
